var COLORS,aabb,glerr,toast,utility;COLORS={black:[0,0,0],darkgray:[0.1,0.1,0.1]};glerr=function(b){return $.gritter.add({title:"WebGL Error",text:b})};toast=function(b){return $.gritter.add({title:"Notice",text:b})};utility={clone:function(b){var a,d;if(null==b||"object"!==typeof b)return b;d=new b.constructor;for(a in b)d[a]=utility.clone(b[a]);return d}};
utility.aabb=aabb=function(){function b(a,d,c,b){this.left=a;this.top=d;this.right=c;this.bottom=b}b.name="aabb";b.prototype.contains=function(a,d){return a>=this.left&&a<this.right&&d>=this.top&&d<this.bottom};b.prototype.width=function(){return this.right-this.left};b.prototype.height=function(){return this.bottom-this.top};b.prototype.centerx=function(){return(this.left+this.right)/2};b.prototype.centery=function(){return(this.bottom+this.top)/2};b.prototype.size=function(){return[this.width(),
this.height()]};b.prototype.viewport=function(a){return a.viewport(this.left,this.top,this.width(),this.height())};b.prototype.translated=function(a,d){return new b(this.left+a,this.top+d,this.right+a,this.bottom+d)};b.prototype.degenerate=function(){return this.left>=this.right||this.top>=this.bottom};b.prototype.setFromCenter=function(a,d){var c,b,e,f;c=[d[0]/2,d[1]/2];b=c[0];c=c[1];e=[a[0]-b,a[1]-c];this.left=e[0];this.top=e[1];return f=[a[0]+b,a[1]+c],this.right=f[0],this.bottom=f[1],f};b.prototype.inflate=
function(a,d){this.left-=a;this.right+=a;null!=d&&(a=d);this.top-=a;return this.bottom+=a};b.prototype.deflate=function(a,d){this.left+=a;this.right-=a;null!=d&&(a=d);this.top+=a;return this.bottom-=a};b.createFromCorner=function(a,d){var c,g,e;c=a[0];g=a[1];e=[c+d[0],g+d[1]];return new b(c,g,e[0],e[1])};b.createFromCenter=function(a,d){var c,g,e,f;e=[d[0]/2,d[1]/2];g=e[0];c=e[1];f=[a[0]-g,a[1]-c];e=f[0];f=f[1];g=[a[0]+g,a[1]+c];return new b(e,f,g[0],g[1])};b.intersect=function(a,d){return new b(Math.max(a.left,
d.left),Math.max(a.top,d.top),Math.min(a.right,d.right),Math.min(a.bottom,d.bottom))};b.lerp=function(a,d,c){var g,e,f;e=(1-c)*a.width()+c*d.width();g=(1-c)*a.height()+c*d.height();f=(1-c)*a.centerx()+c*d.centerx();a=(1-c)*a.centery()+c*d.centery();return b.createFromCenter([f,a],[e,g])};b.cropMatrix=function(a,d){var c,b,e,f,h;b=d.width()/a.width();e=d.height()/a.height();f=2*(d.width()+2*(d.left-a.centerx()))/a.width();h=2*(d.height()+2*(d.top-a.centery()))/a.height();c=mat4.create();c[0]=b;c[1]=
0;c[2]=0;c[3]=f;c[4]=0;c[5]=e;c[6]=0;c[7]=h;c[8]=0;c[9]=0;c[10]=1;c[11]=0;c[12]=0;c[13]=0;c[14]=0;c[15]=1;return mat4.transpose(c)};return b}();
