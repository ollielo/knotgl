var COLORS,aabb,glerr,toast,utility;COLORS={black:[0,0,0],darkgray:[0.1,0.1,0.1]};glerr=function(c){return $.gritter.add({title:"WebGL Error",text:c})};toast=function(c){return $.gritter.add({title:"Notice",text:c})};utility={clone:function(c){var a,d;if(null==c||"object"!==typeof c)return c;d=new c.constructor;for(a in c)d[a]=utility.clone(c[a]);return d}};
utility.aabb=aabb=function(){function c(a,d,b,c){this.left=a;this.top=d;this.right=b;this.bottom=c}c.prototype.contains=function(a,d){return a>=this.left&&a<this.right&&d>=this.top&&d<this.bottom};c.prototype.width=function(){return this.right-this.left};c.prototype.height=function(){return this.bottom-this.top};c.prototype.centerx=function(){return(this.left+this.right)/2};c.prototype.centery=function(){return(this.bottom+this.top)/2};c.prototype.size=function(){return[this.width(),this.height()]};
c.prototype.viewport=function(a){return a.viewport(this.left,this.top,this.width(),this.height())};c.prototype.translated=function(a,d){return new c(this.left+a,this.top+d,this.right+a,this.bottom+d)};c.prototype.degenerate=function(){return this.left>=this.right||this.top>=this.bottom};c.prototype.setFromCenter=function(a,d){var b,c,e,f;b=[d[0]/2,d[1]/2];c=b[0];b=b[1];e=[a[0]-c,a[1]-b];this.left=e[0];this.top=e[1];return f=[a[0]+c,a[1]+b],this.right=f[0],this.bottom=f[1],f};c.prototype.inflate=function(a,
d){this.left-=a;this.right+=a;null!=d&&(a=d);this.top-=a;return this.bottom+=a};c.prototype.deflate=function(a,d){this.left+=a;this.right-=a;null!=d&&(a=d);this.top+=a;return this.bottom-=a};c.createFromCorner=function(a,d){var b,g,e;b=a[0];g=a[1];e=[b+d[0],g+d[1]];return new c(b,g,e[0],e[1])};c.createFromCenter=function(a,d){var b,g,e,f;e=[d[0]/2,d[1]/2];g=e[0];b=e[1];f=[a[0]-g,a[1]-b];e=f[0];f=f[1];g=[a[0]+g,a[1]+b];return new c(e,f,g[0],g[1])};c.intersect=function(a,d){return new c(Math.max(a.left,
d.left),Math.max(a.top,d.top),Math.min(a.right,d.right),Math.min(a.bottom,d.bottom))};c.lerp=function(a,d,b){var g,e,f;e=(1-b)*a.width()+b*d.width();g=(1-b)*a.height()+b*d.height();f=(1-b)*a.centerx()+b*d.centerx();a=(1-b)*a.centery()+b*d.centery();return c.createFromCenter([f,a],[e,g])};c.cropMatrix=function(a,d){var b,c,e,f,h;c=d.width()/a.width();e=d.height()/a.height();f=2*(d.width()+2*(d.left-a.centerx()))/a.width();h=2*(d.height()+2*(d.top-a.centery()))/a.height();b=mat4.create();b[0]=c;b[1]=
0;b[2]=0;b[3]=f;b[4]=0;b[5]=e;b[6]=0;b[7]=h;b[8]=0;b[9]=0;b[10]=1;b[11]=0;b[12]=0;b[13]=0;b[14]=0;b[15]=1;return mat4.transpose(b)};return c}();
